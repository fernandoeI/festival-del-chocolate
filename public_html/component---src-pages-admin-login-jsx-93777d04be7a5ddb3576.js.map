{"version":3,"file":"component---src-pages-admin-login-jsx-93777d04be7a5ddb3576.js","mappings":"+SASMA,GAAOC,EAAAA,EAAAA,MAuIb,UArIc,WACZ,OAIIC,EAAAA,EAAAA,IAAQ,CACVC,cAAe,CACbC,MAAO,GACPC,SAAU,MANZC,EADF,EACEA,QACAC,EAFF,EAEEA,aACaC,EAHf,EAGEC,UAAaD,OAQTE,EAAQ,mCAAG,WAAOC,GAAP,qFAERA,SAAD,UAACA,EAAMP,aAAP,OAAC,EAAaQ,QAAWD,SAAD,UAACA,EAAMN,gBAAP,OAAC,EAAgBO,OAFhC,yCAGJC,EAAAA,GAAAA,QAAc,qCAHV,wBAKPC,EAAAA,EAAAA,IAA2Bd,EAAMW,EAAKP,MAAOO,EAAKN,UAL3C,QAMbU,EAAAA,EAAAA,UAAS,UANI,gDAQbF,EAAAA,GAAAA,MACoB,0CAAlB,KAAMG,QACF,iBACkB,2CAAlB,KAAMA,QACN,qCACkB,2CAAlB,KAAMA,QACN,8BACA,KAAMA,SAEZC,QAAQC,IAAI,KAAMF,SAjBL,QAoBfC,QAAQC,IAAI,gDAAiDP,GApB9C,yDAAH,sDA8Bd,OAPAQ,EAAAA,EAAAA,YAAU,WAEFnB,EAAKoB,cAAaL,EAAAA,EAAAA,UAAS,SAGlC,GAAE,IAGD,gBAAC,IAAD,CAAWM,UAAU,EAAOC,MAAO,CAAED,SAAU,MAC7C,gBAAC,IAAD,MAEA,gBAAC,KAAD,CACEE,WAAS,EACTC,OAAO,QACPC,WAAW,SACXC,eAAe,SACfC,UAAU,UAEV,gBAAC,KAAD,CACEC,MAAI,EACJC,UAAU,OACVN,WAAS,EACTI,UAAU,SACVG,QAAS,EACTpB,SAAUH,EAAaG,IAEvB,gBAAC,KAAD,CAAMkB,MAAI,EAACG,UAAU,UACnB,gBAAC,EAAAC,EAAD,CACEC,IAAI,gBACJC,IAAI,+BACJC,YAAY,OACZC,MAAO,IAJT,uBAOF,gBAAC,KAAD,CAAMR,MAAI,GACR,gBAAC,IAAD,CAAYS,QAAQ,KAAKC,MAAM,WAA/B,kBAGA,gBAAC,IAAD,CAAYD,QAAQ,QAAQC,MAAM,WAAWC,UAAW,GAAxD,kPAOF,gBAAC,KAAD,CAAMX,MAAI,GACR,gBAAC,KAAD,CACEY,KAAK,QACLlC,QAASA,EACTmC,MAAO,CAAEC,UAAU,GACnBC,OAAQ,oBAAGC,EAAH,EAAGA,MAAH,OACN,gBAAC,IAAD,iBACMA,EADN,CAEEC,WAAS,EACTC,KAAK,QACLC,MAAM,wBACNC,QAAQ,UAACxC,EAAOJ,aAAR,QAAC,EAAc6C,MACvBC,WACyB,cAAvB,UAAA1C,EAAOJ,aAAP,eAAc6C,MACV,qBACA,4BAVF,KAgBZ,gBAAC,KAAD,CAAMrB,MAAI,GACR,gBAAC,KAAD,CACEY,KAAK,WACLlC,QAASA,EACTmC,MAAO,CAAEC,UAAU,GACnBC,OAAQ,oBAAGC,EAAH,EAAGA,MAAH,OACN,gBAAC,IAAD,iBACMA,EADN,CAEEC,WAAS,EACTC,KAAK,QACLC,MAAM,cACNC,QAAQ,UAACxC,EAAOH,gBAAR,QAAC,EAAiB4C,MAC1BC,WAC4B,cAA1B,UAAA1C,EAAOH,gBAAP,eAAiB4C,MACb,qBACA,KAVF,KAgBZ,gBAAC,KAAD,CAAMrB,MAAI,GACR,gBAAC,IAAD,CAAQiB,WAAS,EAACR,QAAQ,YAAYC,MAAM,UAAUW,KAAK,UAA3D,eAQX,C","sources":["webpack://festival-del-chocolate/./src/pages/admin/login.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { Button, Container, Grid, TextField, Typography } from \"@mui/material\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport Seo from \"../../assets/components/seo\";\nimport { StaticImage } from \"gatsby-plugin-image\";\nimport { navigate } from \"gatsby\";\nimport \"../../utils/server/firebase\";\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport { toast } from \"react-toastify\";\nconst auth = getAuth();\n\nconst Login = () => {\n  const {\n    control,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    defaultValues: {\n      email: \"\",\n      password: \"\",\n    },\n  });\n\n  const onSubmit = async (data) => {\n    try {\n      if (!data?.email?.trim() || !data?.password?.trim()) {\n        return toast.warning(\"Todos los datos son obligatorios\");\n      }\n      await signInWithEmailAndPassword(auth, data.email, data.password);\n      navigate(\"/admin\");\n    } catch (error) {\n      toast.error(\n        error.message === \"Firebase: Error (auth/invalid-email).\"\n          ? \"Email invalido\"\n          : error.message === \"Firebase: Error (auth/user-not-found).\"\n          ? \"No se encontró usuario registrado.\"\n          : error.message === \"Firebase: Error (auth/wrong-password).\"\n          ? \"La contraseña es incorrecta\"\n          : error.message\n      );\n      console.log(error.message);\n    }\n\n    console.log(\"🚀 ~ file: login.jsx ~ line 16 ~ Login ~ data\", data);\n  };\n\n  useEffect(() => {\n    const fetchData = () => {\n      if (auth.currentUser) navigate(\"/admin\");\n    };\n    fetchData();\n  }, []);\n\n  return (\n    <Container maxWidth={false} style={{ maxWidth: 730 }}>\n      <Seo />\n\n      <Grid\n        container\n        height=\"100vh\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n        direction=\"column\"\n      >\n        <Grid\n          item\n          component=\"form\"\n          container\n          direction=\"column\"\n          spacing={3}\n          onSubmit={handleSubmit(onSubmit)}\n        >\n          <Grid item textAlign=\"center\">\n            <StaticImage\n              alt=\"logo festival\"\n              src=\"../../assets/images/icon.png\"\n              placeholder=\"none\"\n              width={250}\n            />\n          </Grid>\n          <Grid item>\n            <Typography variant=\"h1\" color=\"primary\">\n              Iniciar sesión\n            </Typography>\n            <Typography variant=\"body2\" color=\"GrayText\" marginTop={1}>\n              Administre las solicitudes de registro de expositores para el\n              evento de Festival de Chocolate. Ingrese las credenciales de\n              acceso, sino cuentan con ella, realice la solicitud a la Unidad de\n              Apoyo Técnico e Informático de está secretaria.\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Controller\n              name=\"email\"\n              control={control}\n              rules={{ required: true }}\n              render={({ field }) => (\n                <TextField\n                  {...field}\n                  fullWidth\n                  size=\"small\"\n                  label=\"Correo institucional*\"\n                  error={!!errors.email?.type}\n                  helperText={\n                    errors.email?.type === \"required\"\n                      ? \"Campo obligatorio*\"\n                      : \"micorreo@tabasco.gob.mx\"\n                  }\n                />\n              )}\n            />\n          </Grid>\n          <Grid item>\n            <Controller\n              name=\"password\"\n              control={control}\n              rules={{ required: true }}\n              render={({ field }) => (\n                <TextField\n                  {...field}\n                  fullWidth\n                  size=\"small\"\n                  label=\"Contraseña*\"\n                  error={!!errors.password?.type}\n                  helperText={\n                    errors.password?.type === \"required\"\n                      ? \"Campo obligatorio*\"\n                      : \"\"\n                  }\n                />\n              )}\n            />\n          </Grid>\n          <Grid item>\n            <Button fullWidth variant=\"contained\" color=\"primary\" type=\"submit\">\n              Ingresar\n            </Button>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n};\n\nexport default Login;\n"],"names":["auth","getAuth","useForm","defaultValues","email","password","control","handleSubmit","errors","formState","onSubmit","data","trim","toast","signInWithEmailAndPassword","navigate","message","console","log","useEffect","currentUser","maxWidth","style","container","height","alignItems","justifyContent","direction","item","component","spacing","textAlign","S","alt","src","placeholder","width","variant","color","marginTop","name","rules","required","render","field","fullWidth","size","label","error","type","helperText"],"sourceRoot":""}